<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	template="/WEB-INF/template/template.xhtml"
	xmlns:p="http://primefaces.org/ui">
	<ui:define name="title">Challenge X</ui:define>
	<ui:define name="content">
		
		<h1>Challenge Title : </h1>	<h:outputText value="#{challengeManagementBean.challenge.title}" />
		
		
		
		
		<h:form>
		
		 	
			 
			 <p:commandButton value="Annulate " type="submit"  rendered="#{participationManagementBean.isParticipated(challengeManagementBean.challenge.challengeId)}"
			        	action="#{participationManagementBean.annulateParticipation(challengeManagementBean.challenge.challengeId)}">
			    	
			 </p:commandButton>   
			    	
		<p:commandLink update="documentPanel" oncomplete="PF('documentDialog').show()" title="View Detail" styleClass="ui-icon ui-icon-search">
			            </p:commandLink>
			            
			<p:dialog id="dialog" header="Document Detail" showEffect="fade" widgetVar="documentDialog" modal="true" resizable="false">
			        <p:outputPanel id="documentPanel">
			            <p:panelGrid  columns="2" columnClasses="label,value" >
			          <h:outputText value="id challenge : #{challengeManagementBean.challenge.challengeId}" />
			            
			                <h:outputLabel for="name" value="Name: " />
			                <p:outputLabel  value="Image :" /> 				
							<p:fileUpload style="width:700px;" value="#{photoChallengeBean.file}" fileUploadListener="#{photoChallengeBean.handleFileUpload}" mode="advanced" dragDropSupport="false"
          					 sizeLimit="1000000" fileLimit="1"  allowTypes="/(\.|\/)(gif|jpe?g|png)$/" />
			            	<h:outputLabel for="type2" value="Delete" />
			                <p:commandButton action="#{photoChallengeBean.doAddPhotoChallenge(challengeManagementBean.challenge.challengeId)}" id="iconOnly2"  icon="ui-icon-disk" title="Icon Only" />
			            
			            </p:panelGrid>
			        </p:outputPanel>
			    </p:dialog>            
			            	   
		 <p:graphicImage name="imagesChallenge/#{challengeManagementBean.challenge.image}" height="500"
						width="867"  />
			            	    	 
		
		
		
		</h:form>
	</ui:define>
	
</ui:composition>